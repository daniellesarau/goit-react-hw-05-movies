{"version":3,"file":"static/js/670.0f7cc99f.chunk.js","mappings":"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","sources":["components/API/Api.js","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","webpack://react-homework-template/./src/components/MoviesForm/MoviesForm.module.css?e8ec","components/MoviesForm/MoviesForm.js","components/Pages/Movies/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '9c7c7d46b918ae57eb105853aba2f0ba';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport async function trendingMovie() {\n  const response = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return response.data;\n}\n\nexport async function searchMovie(value) {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${value}`\n  );\n  return response.data;\n}\n\nexport async function movieDetails(id) {\n  const response = await axios.get(\n    `movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n}\n\nexport async function movieDetailsCast(id) {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n}\n\nexport async function movieDetailsReviews(id) {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import React from 'react';\nimport { MagnifyingGlass } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nexport default function Loader() {\n  return (\n    <div className={css.loader}>\n      <MagnifyingGlass\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"MagnifyingGlass-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"MagnifyingGlass-wrapper\"\n        glassColor=\"#c0efff\"\n        color=\"#e15b64\"\n      />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\",\"poster\":\"MoviesList_poster__aewlD\",\"title\":\"MoviesList_title__PB2c8\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport default_poster from '../Images/Poster.jpg';\nimport PropTypes from 'prop-types';\nimport css from './MoviesList.module.css';\n\nconst BASE_URL = 'https://image.tmdb.org/t/p/w500';\nexport function MoviesList({ movies }) {\n  const location = useLocation();\n  return (\n    movies.length !== 0 && (\n      <ul className={css.list}>\n        {movies.map(movie => (\n          <li className={css.item} key={movie.id}>\n            <Link\n              className={css.link}\n              to={`${movie.id}`}\n              state={{ from: location }}\n            >\n              <img\n                className={css.poster}\n                src={\n                  movie.poster_path\n                    ? BASE_URL + movie.poster_path\n                    : default_poster\n                }\n                alt={movie.original_title}\n              />\n              <h2 className={css.title}>{movie.original_title}</h2>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    )\n  );\n}\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      poster_path: PropTypes.string,\n      original_title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesForm_form__UV2JT\",\"input\":\"MoviesForm_input__TIpZG\",\"button\":\"MoviesForm_button__wASHe\",\"icon\":\"MoviesForm_icon__2tak+\"};","import React from 'react';\nimport { Formik, Field, Form } from 'formik';\nimport PropTypes from 'prop-types';\nimport css from './MoviesForm.module.css';\n// import { BiSearchAlt2 } from 'react-icons/bi';\nexport function MoviesForm({ onSubmit }) {\n  return (\n    <Formik initialValues={{ name: '' }} onSubmit={onSubmit}>\n      <Form className={css.form}>\n        <Field\n          className={css.input}\n          name=\"name\"\n          placeholder=\"Search movie\"\n          type=\"text\"\n          autoFocus\n        />\n        <button className={css.button} type=\"submit\">\n          Search\n        </button>\n      </Form>\n    </Formik>\n  );\n}\nMoviesForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovie } from '../../API/Api';\nimport { MoviesList } from '../../MoviesList/MoviesList';\nimport { MoviesForm } from '../../MoviesForm/MoviesForm';\nimport Loader from 'components/Loader/Loader';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('name') ?? '';\n\n  function handleSubmit(values, actions) {\n    const { name } = values;\n    const nextParams = name !== '' ? { name } : {};\n    setSearchParams(nextParams);\n\n    actions.resetForm();\n  }\n\n  useEffect(() => {\n    if (!movieName) {\n      return;\n    }\n    const response = searchMovie(movieName);\n    setLoader(true);\n    response\n      .then(data => {\n        setMovies(data.results);\n        setLoader(false);\n      })\n      .catch(error => console.log(error));\n  }, [movieName]);\n\n  const visibleProducts = movies.filter(movie =>\n    movie.original_title.toLowerCase().includes(movieName.toLowerCase())\n  );\n\n  return (\n    <div>\n      <MoviesForm value={movieName} onSubmit={handleSubmit} />\n      {loader && <Loader />}\n\n      <MoviesList movies={visibleProducts} />\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["API_KEY","trendingMovie","axios","response","data","searchMovie","value","movieDetails","id","movieDetailsCast","movieDetailsReviews","Loader","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","glassColor","color","MoviesList","movies","location","useLocation","length","map","movie","to","state","from","src","poster_path","default_poster","alt","original_title","MoviesForm","onSubmit","initialValues","name","placeholder","type","autoFocus","useState","setMovies","loader","setLoader","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","then","results","catch","error","console","log","visibleProducts","filter","toLowerCase","includes","values","actions","resetForm"],"sourceRoot":""}